#include <bits/stdc++.h>
using namespace std;

void helper(vector<vector<int>>& mat,int row,int col,vector<string>& ans,string path,int n)
{
    if(row<0 || col<0 || row>=n || col>=n|| mat[row][col] == 0 ||mat[row][col] == -1){ // boundry condition
        return ;
    }
    
    if(row == n-1 && col == n-1){  //solution base case
        ans.push_back(path);
        return ;
    }
    
    mat[row][col] = -1;  //marks visited
    //recursive call
    helper(mat,row+1,col,ans,path+'D',n);//down
    helper(mat,row-1,col,ans,path+'U',n);//up
    helper(mat,row,col-1,ans,path+'L',n);//left
    helper(mat,row,col+1,ans,path+'R',n);//right
    //bactrak for another path to revisit from another path reset to unvisited
    mat[row][col] = 1; //marks unvisited
    
}

vector<string>findpath(vector<vector<int>>& mat)
{
    int n = mat.size();
    vector<string>ans;
    string path = "";
    // vector<vector<bool>>vis(n,vector<bool>(n,false)); // to ensure prevention from infinite looping due to up call wee need visited to keep track of it and prevent revisiting
    helper(mat,0,0,ans,path,n);
    
    return ans;
}


int main() {
	vector<vector<int>>mat = {{1,0,0,0},{1,1,0,1},{1,1,0,0},{0,1,1,1}};
	vector<string>ans = findpath(mat);
	for(string path:ans){
	    cout<<path<<endl;
	}
    return 0;
}
